(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),i=(n(93),n(67)),o=n(42),l=n(20),u=n(18),d=n.n(u),m=n(25),j=n(15),b=n(66),p=b.a.initializeApp({apiKey:"AIzaSyCrZukODxCQMd5kV79us3DYplbtZBilMhw",authDomain:"react-login-edaec.firebaseapp.com",projectId:"react-login-edaec",storageBucket:"react-login-edaec.appspot.com",messagingSenderId:"235778037161",appId:"1:235778037161:web:255ecef3f394f306d6a0b8"}),O=p.auth(),h=p.storage(),g=p.firestore(),f=b.a.firestore.FieldValue.serverTimestamp,x=n(4),v=c.a.createContext();function y(e){var t=e.children,n=Object(a.useState)(null),c=Object(j.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){O.onAuthStateChanged((function(e){s(e)}))}),[]);var i={currentUser:r,signOut:function(){return O.signOut()},login:function(e,t){return O.signInWithEmailAndPassword(e,t)},signUp:function(e,t){return O.createUserWithEmailAndPassword(e,t)}};return Object(x.jsx)(v.Provider,{value:i,children:t})}var k=n(154),A=n(78),N=n.n(A),w=n(73),S=n(81),C=n(140),I=n(143),L=n(145),W=n(156),V=n(148),U=n(153),G=n(155),D=n(146),B=n(147);function Z(e){return Object(x.jsx)("video",{style:{height:" 100%",width:"100%"},muted:!0,onEnded:function(e){var t=s.a.findDOMNode(e.target).parentNode.parentNode.parentNode.nextSibling;console.log(t),t&&(t.scrollIntoView({behaviour:"smooth"}),e.target.muted="true")},onClick:function(e){console.log(f())},children:Object(x.jsx)("source",{src:e.src,type:"video/mp4"})})}var M=function(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)([]),b=Object(j.a)(u,2),p=b[0],O=b[1],h=Object(a.useState)(null),f=Object(j.a)(h,2),y=f[0],A=f[1],N=Object(a.useState)(!1),w=Object(j.a)(N,2),M=w[0],E=w[1],z=Object(a.useContext)(v).currentUser,Q=Object(a.useState)(!1),T=Object(j.a)(Q,2),P=T[0],q=T[1],F=Object(a.useState)((function(){return{top:"".concat(90,"%"),left:"".concat(90,"%"),transform:"translate(-".concat(90,"%, -").concat(90,"%)")}})),H=Object(j.a)(F,1)[0],Y=function(){var t=Object(m.a)(d.a.mark((function t(n){var a,r,s,i,u,m;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=o.length){t.next=2;break}return t.abrupt("return");case 2:if(z.uid!=c.userId){t.next=7;break}a=c.username,r=c.profileImageUrl,t.next=13;break;case 7:return t.next=9,g.collection("users").doc(z.uid).get();case 9:s=t.sent,i=s.data(),a=i.username,r=i.profileImageUrl;case 13:return u=[].concat(Object(S.a)(p),[{commentUserName:a,profilePic:r,comment:o}]),(m=e.postObj).comments.push({uid:z.uid,comment:o}),t.next=18,g.collection("posts").doc(m.pid).set(m);case 18:O(u),l("");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(m.a)(d.a.mark((function t(){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M){t.next=10;break}return n=e.postObj,a=n.likes.filter((function(e){return e!=z.uid})),n.likes=a,t.next=6,g.collection("posts").doc(n.pid).set(n);case 6:E(!1),A(1==y?null:y-1),t.next=16;break;case 10:return(c=e.postObj).likes.push(z.uid),t.next=14,g.collection("posts").doc(c.pid).set(c);case 14:E(!0),A(null==y?1:y+1);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)(Object(m.a)(d.a.mark((function t(){var n,a,c,s,i,o,l,u,m,j,b,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.postObj.uid,t.next=3,g.collection("users").doc(n).get();case 3:a=t.sent,c=a.data(),s=e.postObj.comments,i=e.postObj.likes,o=[],l=0;case 9:if(!(l<s.length)){t.next=21;break}return u=s[l],t.next=13,g.collection("users").doc(u.uid).get();case 13:m=t.sent,j=m.data(),b=j.profileImageUrl,p=j.username,o.push({commentUserName:p,profilePic:b,comment:u.comment});case 18:l++,t.next=9;break;case 21:i.includes(z.uid)?(E(!0),A(i.length)):i.length&&A(i.length),r(c),O(o);case 24:case"end":return t.stop()}}),t)}))),[]);var J=Object(C.a)((function(e){return{card:{width:"350px",margin:"auto",padding:"10px",marginBottom:"20px"},videoContainerSize:{height:"50%"},centerDiv:{display:"flex",alignItems:"center",marginTop:"0.5rem",marginBottom:"0.5rem"},marginleft:{marginLeft:"5px"},marginleft2:{marginLeft:"10px"},bold:{marginLeft:"5px",fontWeight:"bold"},paper:{position:"absolute",width:400,height:500,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),overflow:"auto"}}}))();return Object(x.jsx)(I.a,{children:Object(x.jsxs)(L.a,{className:J.card,children:[Object(x.jsxs)("div",{className:J.centerDiv,children:[Object(x.jsx)(W.a,{src:c?c.profileImageUrl:""}),Object(x.jsx)(k.a,{className:J.marginleft2,children:c?c.username:""})]}),Object(x.jsx)("div",{className:"video-container",children:Object(x.jsx)(Z,{className:J.videoContainerSize,src:e.postObj.videoLink})}),Object(x.jsxs)("div",{className:J.centerDiv,children:[Object(x.jsx)(x.Fragment,{children:M?Object(x.jsx)(D.a,{onClick:function(){return R()},style:{color:"red"}}):Object(x.jsx)(B.a,{onClick:function(){return R()}})}),y&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(V.a,{variant:"p",className:J.marginleft,children:[y," ",1===y?" Like":" Likes"]})})]}),Object(x.jsxs)(V.a,{variant:"div",children:[0==p.length?"No":p.length," ",1==p.length?" Comment":"Comments"]}),Object(x.jsxs)("div",{className:J.centerDiv,children:[Object(x.jsx)(U.a,{variant:"outlined",label:"Add a comment",size:"small",value:o,onChange:function(e){l(e.target.value)}}),Object(x.jsx)(k.a,{variant:"outlined",color:"secondary",onClick:Y,className:J.marginleft,children:"Post"})]}),Object(x.jsxs)(x.Fragment,{children:[p.slice(0,4).map((function(e){return Object(x.jsxs)("div",{className:J.centerDiv,children:[Object(x.jsx)(W.a,{src:e.profilePic,style:{width:20,height:20}}),Object(x.jsx)("br",{}),Object(x.jsx)(V.a,{variant:"p",className:J.bold,children:e.commentUserName}),Object(x.jsx)(V.a,{variant:"p",className:J.marginleft2,children:e.comment})]})})),Object(x.jsx)(G.a,{open:P,onClose:function(){return q(!1)},children:Object(x.jsx)("div",{style:H,className:J.paper,children:p.map((function(e){return Object(x.jsxs)("div",{className:J.centerDiv,children:[Object(x.jsx)(W.a,{src:e.profilePic,style:{width:20,height:20}}),Object(x.jsx)("br",{}),Object(x.jsx)(V.a,{variant:"p",className:J.bold,children:e.commentUserName}),Object(x.jsx)(V.a,{variant:"p",className:J.marginleft2,children:e.comment})]})}))})}),Object(x.jsx)(k.a,{onClick:function(){return q(!0)},children:"View All Comments"})]})]})})},E=function(e){var t=Object(a.useContext)(v).signOut,n=Object(a.useState)(null),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),o=Object(j.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(""),p=Object(j.a)(b,2),O=p[0],y=p[1],A=Object(a.useContext)(v).currentUser,S=Object(a.useState)(),I=Object(j.a)(S,2),L=I[0],V=I[1],U=Object(a.useState)(),G=Object(j.a)(U,2),D=G[0],B=G[1],Z=Object(a.useState)(""),E=Object(j.a)(Z,2),z=E[0],Q=E[1],T=function(){var n=Object(m.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t();case 3:e.history.push("/login"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=function(e){var t=e.bytesTransferred/e.totalBytes*100;Q(t)},n=function(e){console.log(e)},a=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.snapshot.ref.getDownloadURL();case 2:return t=e.sent,n=Object(w.uuid)(),e.next=6,g.collection("posts").doc(n).set({pid:n,uid:c,comments:[],likes:[],videoLink:t,createdAt:f()});case 6:return e.next=8,g.collection("users").doc(c).get();case 8:return a=e.sent,(r=a.data()).postsCreated.push(n),e.next=13,g.collection("users").doc(c).set(r);case 13:y(""),s(null),Q(0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!(r.size/1e6>5)){e.next=7;break}return y("Selected File Exceeds 5MB cannot upload !"),e.abrupt("return");case 7:c=A.uid,(i=h.ref("/profilePhotos/".concat(c,"/").concat(Date.now(),".mp4")).put(r)).on("state_changed",t,n,a),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),q={root:null,threshold:"0.8"};function F(e){e.forEach((function(e){var t=e.target.children[0];t.play().then((function(){0==e.isIntersecting&&t.pause()}))}))}Object(a.useEffect)((function(){var e=new IntersectionObserver(F,q);document.querySelectorAll(".video-container").forEach((function(t){e.observe(t)}))}),[l]),Object(a.useEffect)(Object(m.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.collection("posts").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));u(t)})),e.next=3,g.collection("users").doc(A.uid).get();case 3:t=e.sent,n=t.data(),a=n.username,c=n.profileImageUrl,V(a),B(c);case 9:case"end":return e.stop()}}),e)}))),[]);var H=Object(C.a)({header:{position:"sticky",top:"0",zIndex:"1",backgroundColor:"white",padding:"20px",objectFit:"contain",border:"1px solid lightgray",display:"flex",justifyContent:"space-between",alignItems:"center",height:"35px"},headerImage:{objectFit:"contain"},oneDiv:{display:"flex",justifyContent:"center",alignItems:"center"},columnwise:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginLeft:"15px",margin:"auto"},marginbottom:{marginBottom:"5px"},margintop:{marginTop:"10px"},smallSize:{height:"40px"}})();return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:H.header,children:[Object(x.jsxs)("div",{className:H.oneDiv,children:[Object(x.jsxs)("div",{className:H.columnwise,children:[Object(x.jsxs)(k.a,{variant:"outlined",component:"label",startIcon:Object(x.jsx)(N.a,{}),color:"secondary",className:H.marginbottom,children:["Choose Video",Object(x.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target.files[0];s(t)}})]}),Object(x.jsx)("progress",{value:z,max:"100"})]}),Object(x.jsxs)("div",{className:H.columnwise,children:[Object(x.jsx)(k.a,{onClick:P,variant:"contained",color:"secondary",children:"Upload"}),Object(x.jsx)("label",{children:O})]})]}),Object(x.jsx)("img",{className:H.headerImage,src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),Object(x.jsxs)("div",{className:H.oneDiv,children:[Object(x.jsxs)("div",{className:H.columnwise,children:[Object(x.jsx)(W.a,{src:D,className:H.margintop}),Object(x.jsx)(k.a,{size:"small",variant:"text",color:"primary",children:L})]}),Object(x.jsx)(k.a,{onClick:T,variant:"contained",color:"primary",className:H.smallSize,children:"Logout"})]})]}),Object(x.jsx)("div",{className:"feeds-video-list",style:{margin:"auto"},children:l.map((function(e){return Object(x.jsx)(M,{postObj:e},e.pid)}))})]})},z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAMAAABt9SM9AAAAilBMVEX///8BAQEAAAD8/Pz4+Piqqqr29vbo6Oi1tbXl5eXc3NzNzc3BwcHx8fFLS0vt7e16enqNjY2ioqKbm5vKysqUlJSCgoLU1NRCQkIWFhbT09MwMDA4ODiHh4ccHBx2dnZkZGRXV1dsbGwmJiY9PT2xsbEzMzNdXV0ZGRlQUFC8vLwMDAwiIiIqKiplJ/3XAAAOY0lEQVR4nO1c2XLiOhAFsdrsZocQlkBIWP7/964ldbdaskimalwTZm6fmoexsGTpqHfZqVQEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAZLh/W2XtUoccfWymLUHJQ74LOgdlMWhXtqYL2bAY7u0AZ8E7XxVVQ2lPkobdKnMgGpa2ohPgW1OlSUrX92qpEGbyP+mpAGfArWF5gqWVlWdkobtIVn/kmTV1kprS/tFlUvWAMkalzTgM2BhuOpWPksmq4VkZSUN+AQ4GK4aldLJSpCsRkkD/jwyvSR1qDiyJiWNnKIR/Gdih9RwpXRw1QeyuqUNXS13wB/HGpWwfLJWZbvXn0Zm4sY38/+yyJp3J/O0NehdkKz09+f5DKgZGwwWuCSyEkUAsvqH2XScNdqTtMzM849jbBOSmrkoiayZsmkTcmX/DxiVMOmfghWsob0oiaw3IqkApXa/PeUfQ1vxWKEcsnrqMVl/deazt1oIV+WQVQ9NFtfCv9jWWyFQe7hEsi6/N+plMxtuD4fd7lU5rq7Lj9fb/aU0k9VMamUN9YvoWi3EFfyOZPXmaWH2eySrF+lQT+ffucZaukriv0yOukr5NV2teVpeGTPHRnmSFJBVm25OwWQ70007NsXG3dRYg1ZMn1Rx0qejkbeh4asWXfWlbwu3VnG9W05WpXePVzbYmDvuWbFzTuO0MaEp1bNZg9uGZja6NGND2tVQsW/hk2WmtGZJ8ORmZjAN19Y7WnUO4wIiK3xu8q6gh47w8nUthmE+OljQLblPaFzVy/aCz4VqBkY8ETSo8y2ptI5q+Tll22426giuxpS+75S99q5mGyL1T8uOSrxLIqthEiGMK3RMBnO8+ivrLTH4PP4aWXMegU17VkzePV1NuHvYVsA7zO2PM3zeIz3e8AckY9t5Rj8vFe4TZjBulUO4PhdMx7tdPbYfi2TlV2efKzOW5wL61L6Ik3X1m1s8tlAKbIEnls0quyU3qrBNoOfK24S0MTvvMi5kY+8Br0N4AMmW3VzLHo1ll1Sn61sotgufrIhk5Vc7e3VhM/AUoO12MTBaaANf/eYbCoaJLlSs9uz4927Zmh9r2H85GW/vIHRLZxdJcG30Qr2JrKtdmD4ZONGD9mzNpiEswp19NXyJkmUZgCgjUkd4cQsL3CiStfZaR7SU98+7Oyfh5dSTW+3iyHJMqyv1IH6rOjnhm5H/0u9X2QNIaRlZ7zTW0l9MsRY+9g08knWJkHW2XL0XiqkDp51vwfBIlmfKqHz6on3QxJ0psZ0kXZjm8tI8EFkbvlgf6o6dM+y8qZutoQf0/OG13qeOmyufXLB5BqkVF3QFcZtlZL9jBXoFYspOyyZun8OCKJL1yRsP0PheY1PgsyBdINOISolmrREji8QX3RBIxozmVw/uGDkpR7LcdaQWvuB59FdqaH7K+8NoLGvp0mRewtGRrDNrG+BaUPdnRbLeAs2iiiuatR2MwctA+BBkGtOSCt1R81s0WVeFpkVV8RcU60ItfGV/jZOVObK6WKefFcjqkH0pRNtIFrf7Y2ijgGRQmFynEEYhe6QZ5jzq0Jl0VilqHZqYNXSmGU5xgjQHIku7gjwRsxamol2D1mebeESSPrN4bI+TtYVlq2tNn1zbW1iEg0srHuEsQmJYm2MWmaDJDQvucROQVTMucsXYxyu0OqpPneePydqYYYZEltYbdQKyIsc2hoab/f/7I7JSMzndvINbWMhmd05dixEiEuMcFdZvnDl2wkqu9LXA5yUga8UmDVmIavJJc4tTw90skpU/KTeoMyLrppcJpjt6cHBW9ObGGh40CcnSw1kjgLkxj9hg8KKSI1nsVQewcDwCbQRkgcnnvnUVMGAkwM65BhEm2nc0ZyzdWzwga5zqpXes3OoEVktlrgZ3+/M8QpY+N4RU9/6ALCv15vEYlPMBcN8LifSxSNY0FCNyp7STp2KvVmDWtESoAfykPOm9hczgBrsmFLUs51yHNUBWT2+bTqk+7M/xyltzurZ5SkDWGMm6KLLS/eJcsFve+ubb+GNRjFCNmc6i2GA0giaLGdimT5axwzv7/67/Ezpb7pm3YCfwuo6SlZsd3W9kyWppVnVHiFkfVIeCVQdkDfUK0dcdi2SdmLv1VRHJYonMutg/DRzsPrjWgOW13epRSzL/bhxsyzrDAcotJKsPKgWHNolRoNypVn+HLDPImd/iLfaqH4GONOr5GFlFe0Trw8m9hYGDU5w2XVHOPvQnhCaBZ+Uj36qxZNnKZ8OSlRoTluAhzndkoRMH6wFubqYzZVCS2kcg0oZS9V6pL9DnLFxG+xGEQPR6m4sYI2QVnFdIlikdoWMPDBJ6C56rjALNxHfsUNcv4P1yFTGMghp+U8eNkzXK7RSKAs6aRNoeT6Rm1tD7hnVGygIdWUjMjj11HpgxeMQ7u6XnGaalYunmwmd/7N1pAWpI9SNHlhVfG1arS67dRiI/foksTNcnHlkmEmsQNb5IazUA1TugncctzLDBbTOE+57fnPhkoTHvs1sSToF++9VFjG8U3xhgOsbrH9uALHdWZx9id0s1+iaQAFOjviPrNSZZRrUx5GuGzsboeZNPyrnxdZEsJIbbX/RnA1yKveQJ5YqTtVYsNa8FkcPGX4LB+TFZRuYTGGIJSzn+koEPyGIpOc68QNanYnnOGdlN7Ap/jazMJ2sQIYvHB21WX3aijgY9Rlb/MVnGEttiotJlRLOu/VdxFqKGZK0KZGHMg9uOZHV15d8NAIUmu8/9CFlof7kaYrrT8h/BfcCUkaUtluuOZE2DO5kaYoxP8ySy0C2gS4GJW3sSj+DDUYmsjbODaLMHAVkf/hlzl3myritiOgOPMemOPRaTAhgHFYtXDA+OLB11s8w0lKyM0epz4zyGIwuEbUkLNd0gGiGzGD0YC8lyZTPaZSQLDHy+j55G4QlILiW5lF2xROHiLKSPlwOxbe5de6ccroqjsxseF9RYiVjjVNgf0mE6CaByKEronhZqNiw4Te3yQkCRrODEiaXwA+/BLcoqEVgvSXMZsgFalVlfOtvgTFBlD3eymN0leEtbi6Ff0oftwVgY3S1LLNGM0YDukALkceirJRQ9cdGL8MDlS7JYMNvzHqwDML+KBe8DqIE+qxugOSfBXFPs7Cge41NwJ9FNOPXGMrLqdimjR0CFBt0B5tXM4t1CsnZE1imYwpUvAvVBqWXkMJfscxqQ5ZKTJjNKJkkPSskQslyn5tiyFWjUxZkxV1mjNBxpx9zwRLcsyFNoJfRfWgrSHbTmTi5dkR+WXHfOEPYHK+NAeerxnzv14DjUJysJyHI6S2lVC0KswL+i4mnUnEa1cHyFZozUZBKcc6GBZ07ALZcnhQA0UhR4kCEAHIgaaGJHg7BlSbBQmxxCljItlp7MNKv+g4ksVyypYbrXsNVTveba2bHpZmYcy5butj+qfk8FO79QeGKw8FbPMumdWx2VsQgovSefCdoNU9DzLPbdDYdVocBtG9VGvu+xgjnb04pHlhf4YyHhutOTuNsmpdZWGFMn4Tt9jaGEMckbk6UsPP5M5fH1aCdnA4LX8Ii6685Ji+e4eHCAVL8T1U23GZ9GZUB0G+wtirAq1MZJOTmbF9XHoB7sOuZZS3bPjiaDNS54s2KTM9pxAQu8KYAjDmvJ2cavF28HTDjemDKLOqLjLZhkR/EP1oovw4HvsnKTOau4g/lqh31TJKotfnzW8sagULbFijR5aB1zhmS9MYXFAI+rLCbHVdQ04oNNwikLpZcW+ul4KqJOydyIZx8SIzOe9qIXDF1VI0lnxk5hVLqvFIEmvWt7Z8hWf9XqrvVTT1gS2NeNoT1Q0toLxkCxPeCQq7N68GkpkoUWCPnmh/5M0ewur9y1+8md9DjbnP/L+AjArrrW3ZGCwcIdJeKrIz3weYVjXI2Ot11nFvHYzkOmM3bLqFJJsXlqf0Ef3fLuj723WDgWgEzYP0CjXQGNcK86OInruwRhwsg94B5w6XzVMkiVL9DtLh9UqyOUpOJfl41Z72WTvYJj2kyG0abVa1n4LJBV6Y36x74b/sTqg/GPJVcwIDEJqYRn3y74WMw5Jkyk7Hy8NyoatBLS5swZDXWu0yDQsoLF0S2LAenFg+8W0WYrdTWOZu86YxdHaN8diURe3yxuwDl+A5RXP1mDYuUqwMy03VlO3lgrhnGQd3ZebTtbaHqEe9fk2xL7Aqk6Jv61etVyPgQyHn0Rmy7szTtYfQMns6VAo/NhW/SWgdJ5xdgQnaW9J5YXamReOGImMdruhqGz7mwOm+Bou9edDvsvx73/Kit1GG23mU9hOh4eZlkaNA2nrCXJZofh2DTsgmAigrz3dszKdd38mZuLJzmd0WGLD+iODrvh+Ou/OKHvHz8slxpZ5wfrT4JPMntP9HmGfS/12T6krB+drX2er6SMS4rmQT+J3pvZQkvW8/x9CH0AGE2wfxIm4tGRpiHrkbX989AeJRYh/yTgA+45HMAMv+/xh6Di6fVPYm65mmCJaft9lz+EdrvU74JKAHDVpaLi85D1dAAd1JWq+bOp4bNhYLkysRVkYs8TOjwZ7JEvlKUmX+aGAvtJBxTCIW39Z/5MS8k4WSWEXM7/8F3gw5brKBmE2vW/+LcWS8CUKyF+2/D4y9X/N+xHNWSjrAHrf9Xj/wsTsbM3IuzxjEQOURiD7vJme5Qi9j0O+2o61Wy7YrK+QMbjBrTvkhnG0fXJgkLNT87oiWHzQnSG9hOIZ6u1PQ/0qxr4Wilk1NGDYUEFyzPmHPCCFUDBI0BuuN9VqQIoeIiufa3DUnUT4/41mhv3SsBPz+VvQGc8PGynYq0EAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAieAf8B9q2sP0T9lRcAAAAASUVORK5CYII=",Q=n(149),T=n(150),P=n(151),q=n(152),F=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1],b=Object(a.useState)(""),p=Object(j.a)(b,2),O=(p[0],p[1]),h=Object(a.useContext)(v).login,g=function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(c,l);case 3:e.history.push("/"),t.next=11;break;case 6:t.prev=6,t.t0=t.catch(0),O(t.t0.message),r(""),u("");case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),f=Object(C.a)({centerDivs:{height:"100vh",display:"flex",justifyContent:"center",width:"100vw"},carousal:{height:"10rem",backgroundColor:"lightgray"},fullWidth:{width:"100%"},centerElements:{display:"flex",flexDirection:"column"},mb:{marginBottom:"1rem"},padding:{paddingTop:"1rem",paddingBottom:"1rem"},alignCenter:{justifyContent:"center"},margintop:{marginTop:"80px"}})();return Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{className:f.margintop,children:Object(x.jsx)(Q.a,{container:!0,spacing:2,style:{justifyContent:"space-around"},children:Object(x.jsxs)(Q.a,{item:!0,sm:3,children:[Object(x.jsxs)(L.a,{variant:"outlined",className:f.mb,children:[Object(x.jsx)(T.a,{image:z,style:{height:"5rem",backgroundSize:"contain"}}),Object(x.jsxs)(P.a,{className:f.centerElements,children:[Object(x.jsx)(U.a,{label:"Email",type:"email",variant:"outlined",value:c,size:"small",onChange:function(e){return r(e.target.value)},className:f.mb}),Object(x.jsx)(U.a,{label:"Password",type:"password",variant:"outlined",value:l,size:"small",onChange:function(e){return u(e.target.value)},className:f.mb})]}),Object(x.jsx)(q.a,{children:Object(x.jsx)(k.a,{variant:"contained",color:"primary",onClick:g,className:f.fullWidth,children:"Login"})})]}),Object(x.jsx)(L.a,{variant:"outlined",className:f.padding,children:Object(x.jsxs)(V.a,{style:{textAlign:"center"},children:["Don't have an account?"," ",Object(x.jsx)(o.b,{style:{color:"primary"},to:"/signup",children:"SignUp"})]})})]})})})})},H=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Profile"})})},Y=n(80),R=n.n(Y),J=function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],u=i[1],b=Object(a.useState)(""),p=Object(j.a)(b,2),O=p[0],f=p[1],y=Object(a.useState)(null),A=Object(j.a)(y,2),N=A[0],w=A[1],S=Object(a.useState)(""),W=Object(j.a)(S,2),G=(W[0],W[1]),D=Object(a.useContext)(v).signUp,B=function(){var t=Object(m.a)(d.a.mark((function t(n){var a,r,s,i,o,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)},r=function(e){console.log(e)},s=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.snapshot.ref.getDownloadURL();case 2:t=e.sent,console.log(t),g.collection("users").doc(o).set({email:c,userId:o,username:O,profileImageUrl:t,postsCreated:[]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.next=6,D(c,l);case 6:i=t.sent,o=i.user.uid,(u=h.ref("/profilePhotos/".concat(o,"/image.jpg")).put(N)).on("state_changed",a,r,s),e.history.push("/"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),G(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),Z=Object(C.a)({centerDivs:{height:"100vh",display:"flex",justifyContent:"center",width:"100vw"},carousal:{height:"10rem",backgroundColor:"lightgray"},fullWidth:{width:"100%"},centerElements:{display:"flex",flexDirection:"column"},mb:{marginBottom:"1rem"},padding:{paddingTop:"1rem",paddingBottom:"1rem"},alignCenter:{justifyContent:"center"},margintop:{marginTop:"80px"}})();return Object(x.jsx)("div",{children:Object(x.jsx)(I.a,{className:Z.margintop,children:Object(x.jsx)(Q.a,{container:!0,spacing:2,style:{justifyContent:"space-around"},children:Object(x.jsxs)(Q.a,{item:!0,sm:3,children:[Object(x.jsxs)(L.a,{variant:"outlined",className:Z.mb,children:[Object(x.jsx)(T.a,{image:z,style:{height:"5rem",backgroundSize:"contain"}}),Object(x.jsxs)(P.a,{className:Z.centerElements,children:[Object(x.jsx)(U.a,{label:"Username",type:"text",variant:"outlined",value:O,size:"small",onChange:function(e){return f(e.target.value)},className:Z.mb}),Object(x.jsx)(U.a,{label:"Email",type:"email",variant:"outlined",value:c,size:"small",onChange:function(e){return r(e.target.value)},className:Z.mb}),Object(x.jsx)(U.a,{label:"Password",type:"password",variant:"outlined",value:l,size:"small",onChange:function(e){return u(e.target.value)},className:Z.mb}),Object(x.jsxs)(k.a,{variant:"outlined",color:"secondary",component:"label",startIcon:Object(x.jsx)(R.a,{}),children:["Upload Profile Image",Object(x.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:function(e){!function(e){var t=e.target.files[0];w(t)}(e)}})]})]}),Object(x.jsx)(q.a,{children:Object(x.jsx)(k.a,{variant:"contained",color:"primary",onClick:B,className:Z.fullWidth,children:"Signup"})})]}),Object(x.jsx)(L.a,{variant:"outlined",className:Z.padding,children:Object(x.jsxs)(V.a,{style:{textAlign:"center"},children:["Have an account?"," ",Object(x.jsx)(o.b,{style:{color:"primary"},to:"/login",children:"Login"})]})})]})})})})};function K(e){var t=e.comp,n=e.path;return Object(a.useContext)(v).currentUser?Object(x.jsx)(l.b,Object(i.a)(Object(i.a)({},e),{},{path:n,component:t})):Object(x.jsx)(l.a,{to:"/login"})}var X=function(){return Object(x.jsx)(y,{children:Object(x.jsx)(o.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/login",component:F,exact:!0}),Object(x.jsx)(l.b,{path:"/signup",component:J,exact:!0}),Object(x.jsx)(K,{path:"/",comp:E}),Object(x.jsx)(K,{path:"/profile",comp:H})]})})})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(X,{})}),document.getElementById("root"))},93:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.ca8f5af1.chunk.js.map